{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "description": "Intonation Standard, which describes how microtonal intervals are expressed",
    "type": ["object", "string"],
    "oneOf": [
        { "$ref": "#/$defs/justIntonation" },
        { "$ref": "#/$defs/edo" },
        { "$ref": "#/$defs/cents" }
    ],
    "$defs": {
        "justIntonation": {
            "oneOf": [
                {
                    "enum": ["justIntonation"]
                },
                {
                    "type": "object",
                    "properties": {
                        "type": {
                            "enum": ["justIntonation"],
                            "description": "Identifier of the intonation standard"
                        }
                    },
                    "required": ["type"]
                }
            ],
            "description": "Intonation standard that uses Just Intonation where pitches are expressed as frequency rations"
        },
        "edo": {
            "type": "object",
            "properties": {
                "type": {
                    "enum": ["edo"],
                    "description": "Identifier of the intonation standard"
                },
                "divisionCount": {
                    "type": "integer",
                    "minimum": 1,
                    "description": "The number of divisions of the octave"
                }
            },
            "required": ["type", "divisionCount"],
            "description": "Equal Divisions of Octave (EDO) intonation standard divides the octave in equal parts and pitches are expressed as the integer number of divisions"
        },
        "cents": {
            "oneOf": [
                {
                    "enum": ["cents"]
                },
                {
                    "type": "object",
                    "properties": {
                        "type": {
                            "enum": ["cents"],
                            "description": "Identifier of the intonation standard"
                        }
                    },
                    "required": ["type"]
                }
            ],
            "description": "Intonation standard where pitches are expressed in number of cents with decimals allowed"
        }
    }
}