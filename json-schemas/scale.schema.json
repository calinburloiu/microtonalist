{
    "$comment": "TODO Add $id",
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "description": "Microtonalist App scale format",
    "type": "object",
    "properties": {
        "author": {
            "type": "string",
            "description": "The person or organization who created the scale"
        },
        "name": {
            "type": "string",
            "description": "The name of the scale"
        },
        "intonationStandard": {
            "$ref": "intonationStandard.schema.json",
            "description": "Intonation Standard, which describes how microtonal intervals are expressed"
        },
        "pitches": {
            "type": "array",
            "items": {
                "oneOf": [
                    { "$ref": "interval-justIntonation.schema.json" },
                    { "$ref": "interval-number.schema.json" },
                    {
                        "type": "object",
                        "properties": {
                            "name": {
                                "type": "string",
                                "description": "Pitch name"
                            },
                            "interval": {
                                "oneOf": [
                                    { "$ref": "interval-justIntonation.schema.json" },
                                    { "$ref": "interval-number.schema.json" }
                                ],
                                "description": "Interval of the pitch in relation to the tonic (first scale degree)"
                            }
                        }
                    }
                ]
            },
            "minItems": 1,
            "description": "An array of scale pitches starting from the second scale degree (the tonic is implied to a unison)"
        }
    },
    "required": ["name", "pitches"],
    "$defs": {
        "scalePitch": {

        }
    }
}